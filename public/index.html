<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Discord Embed Sender</title>
</head>
<body>

<input id="webhook" placeholder="Webhook URL">

<select id="mode">
  <option value="message">message</option>
  <option value="embed">embed</option>
  <option value="reply">reply</option>
</select>

<!-- ê¸°ì¡´ message -->
<textarea id="message" placeholder="Message content"></textarea>

<!-- ê¸°ì¡´ embed -->
<input id="title" placeholder="Embed title">
<textarea id="description" placeholder="Embed description"></textarea>
<input id="color" placeholder="Embed color (hex)">
<input id="image" placeholder="Embed image URL">

<!-- ðŸ”½ reply ì¶”ê°€ (ì´ê²ƒë§Œ ì¶”ê°€ë¨) -->
<input id="replyUrl" placeholder="Reply Message URL">
<textarea id="replyMessage" placeholder="Reply Message Content"></textarea>

<button onclick="send()">Send</button>

<script>
async function send() {
  const body = {
    webhook: document.getElementById("webhook").value,
    mode: document.getElementById("mode").value,

    // ê¸°ì¡´
    message: document.getElementById("message").value,
    title: document.getElementById("title").value,
    description: document.getElementById("description").value,
    color: document.getElementById("color").value,
    image: document.getElementById("image").value,

    // reply ì „ìš©
    replyUrl: document.getElementById("replyUrl").value,
    replyMessage: document.getElementById("replyMessage").value
  };

  const res = await fetch("/api/send", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(body)
  });

  const data = await res.json();
  alert(data.success ? "ì „ì†¡ ì™„ë£Œ" : data.error);
}
</script>

</body>
</html>
